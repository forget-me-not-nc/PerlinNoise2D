#pragma once

#include <cstdlib>
#include <ctime>
#include <gtc/noise.hpp>

#include "Vertex.h"

///////////////////////////////////
//
//
//////////////////////////////////

enum class WORLD_SIZE
{
	S_16x16 = 16,
	S_32x32 = 32,
	S_64x64 = 64,
};

enum class NOISE_TYPE
{
	RANDOM,
	PERLIN
};

///////////////////////////////////
//
//
//////////////////////////////////

class Noise
{
	///////////////////////////////////
	//
	//
	//////////////////////////////////

public:

	//////////////////////////////////

	~Noise();

	//////////////////////////////////
	
	virtual vector<Vertex> getVertices();
	virtual void initVertices() = 0;
	virtual glm::vec3 getLightPos();

	///////////////////////////////////
	//
	//
	//////////////////////////////////

protected:

	//////////////////////////////////

	Noise(unsigned int seed, int multiplier, WORLD_SIZE size, float harshness);

	//////////////////////////////////

	glm::vec3* data;
	glm::vec3 vertexColor;
	glm::vec3 lightPos;

	///////////////////////////////////

	int multiplier;
	int size;
	int trueSize;
	float step;
	float harshness;

	std::default_random_engine engine;

	///////////////////////////////////

	void calculateNormals(vector<Vertex>& vertices);
};

///////////////////////////////////
//
//
//////////////////////////////////